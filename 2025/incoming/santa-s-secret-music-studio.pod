Author: Gene Boggs <gene.boggs@gmail.com>
Title: Santa's Secret Music Studio
Topic: idi

=encoding utf8

=head2 Santa's Secret Studio

Privately, Santa was a musician. He practiced his scales and arpeggios diligently any time he could find a spare minute. Although, who his teacher is or was, remains a mystery.

In Santa's little music studio next to the Workshop, he had some guitars, an old Fender Jazz bass, a modern L<Arturia|https://www.arturia.com/> MIDI controller keyboard, a few classic synths, and even a bit of modular L<eurorack|https://en.wikipedia.org/wiki/Eurorack> gear, too.

Over the years, he has given many, many a present to the likes of Keith Emerson, Rick Wakeman, and Trent Rezor even.

Anyway, he was fine with playing his individual instruments, by themselves, for a long time. He is old fashioned, you know. But he decided to hook everything together with MIDI and only use his superior Arturia. (A Christmas present to himself, recently.) So he got the necessary cables and connected his synthesizers and computer.

Now with a "digital audio workstation" or DAW, you can orchestrate all your external MIDI instruments and record a masterpiece. But you can B<also> control everything with Perl programs!

Like any programmer worth his or her salt, he and the elves often used the L<Perl|https://www.perl.org/> programming language to get things done without much fuss. And since he was also a musician, he wondered how to make musical things easier and fun with code.

=head2 Controlling MIDI

It turns out that Santa is a geek at heart and regularly searches L<metacpan|https://metacpan.org/recent> and checks out the recent uploads. One he found and installed was the L<idi|https://metacpan.org/pod/idi> module. That seemed to fit the bill for many quick and simple things, including playing any synth through MIDI with a controller.

But before he could control anything, he had to know what his MIDI ports were named! In order to find that out, he ran the handy script he found while studying Perl real-time MIDI: L<list_devices.pl|https://metacpan.org/release/JBARRETT/MIDI-RtMidi-FFI-0.08/source/examples/list_devices.pl>. Here it is:

=begin perl

#!/usr/bin/env perl
use strict;
use warnings;
use MIDI::RtMidi::FFI::Device;
my $midi_in = RtMidiIn->new;
my $midi_out = RtMidiIn->new;
print "Input devices:\n";
$midi_in->print_ports;
print "\n";
print "Output devices:\n";
$midi_out->print_ports;

=end perl

Running this on his computer said,

=begin code

> list_devices.pl

Input devices:
0: USB MIDI Interface
1: KeyLab mkII 49 MIDI
2: KeyLab mkII 49 DAW

Output devices:
0: USB MIDI Interface
1: KeyLab mkII 49 MIDI
2: KeyLab mkII 49 DAW

=end code

The "USB MIDI Interface" was currently his L<microKORG|https://en.wikipedia.org/wiki/MicroKORG> synth, and the "KeyLab mkII 49 MIDI" was his Arturia controller. So by using the L<idi|https://metacpan.org/pod/idi> module on the terminal command line:

=begin code

> perl -Midi -E "i(@ARGV)" 'KeyLab mkII 49 MIDI' 'USB MIDI Interface'

=end code

He was able to control his synth! And what did it sound like?

=begin html
  <audio controls><source src="2025-Advent-1.mp3" type="audio/mp3"></audio>

=end html

Not especially Christmas-y at all, but it illustrates that with a single line, you can control a MIDI synthesizer without using a full-blown DAW.

It also implies that you can make a program do B<ANYTHING YOU WANT> with live, real-time MIDI synthesizers. Hmmmmm...

Santa was satisfied and set out to dive deeper after Christmas and study L<MIDI::RtMidi::FFI::Device|https://metacpan.org/pod/MIDI::RtMidi::FFI::Device> and its derivatives: L<MIDI::RtController|https://metacpan.org/pod/MIDI::RtController>, L<MIDI::RtController::Filter::Tonal|https://metacpan.org/pod/MIDI::RtController::Filter::Tonal>, and related control modules next.

=head2 Conclusion

Be like Santa and, when you're not busy delivering presents to the children of the world, control your MIDI devices with Perl!

=head2 References

=for :list
* L<idi|https://metacpan.org/pod/idi>

=cut
